<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <title>INSTRUCTOR (CONTRATO)</title>
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <link rel="StyleSheet" href="css/style.css" type="text/css"></link>
                <link rel="shortcut icon" href="images/iconoRUDA.ico"/>
            </f:facet>            
        </h:head>

        <h:body>

            <p:layout fullPage="true">

                <p:layoutUnit position="north" size="100" resizable="true" closable="true" collapsible="true">
                    <h:graphicImage url="images/LogoRUDA.png" width="60%" height="90%" alt="LogoRUDA"  />
                </p:layoutUnit>

                <p:layoutUnit position="south" size="100" closable="true" collapsible="true">
                    SENA CLEM - REGISTRO UNICO DE DESARROLLO ADMINISTRATIVO
                </p:layoutUnit>

                <p:layoutUnit position="west" size="175" header="Left" collapsible="true">
                    <h:form>
                        <p:menu>
                            <p:submenu label="Menu">                               
                                <p:menuitem value="Cambiar clave" url="faces/CambiarPasswordInstructor.xhtml" />
                                <p:menuitem value="Cerrar Sesión" actionListener="#{sesionVista.cerrarSesion_action}" />
                            </p:submenu>
                        </p:menu>
                    </h:form>
                </p:layoutUnit>

            <p:layoutUnit position="center">
                <h:form id="formulario">
                    <p:growl id="growl" showDetail="true" sticky="true" />
                    <p:panelGrid columns="6">

                        <h:outputText value="Codigo Regional:"/>
                        <p:inputText id="txtCodigoRegional" binding="#{instructorVista.txtCodigoRegional}" disabled="true" />

                        <h:outputText value="Codigo Centro:"/>
                        <p:inputText id="txtCodigoCentro" binding="#{instructorVista.txtCodigoCentro}" disabled="true"/>

                        <p:outputLabel for="txtFechaDiligenciamientoPlantilla" value="Fecha Diligenciamiento Plantilla:"/>
                        <p:calendar id="txtFechaDiligenciamientoPlantilla" value="#{instructorVista.txtFechaDiligenciamietoPlanilla}" pattern="yyyy-MM-dd" mask="true" />

                        <h:outputText value="Nombre Contratista:"/>
                        <p:inputText id="txtNombreContratista" binding="#{instructorVista.txtNombreContratista}" disabled="true" />

                        <h:outputText value="Apellido Contratista:"/>
                        <p:inputText id="txtApellidoContratista" binding="#{instructorVista.txtApellidoContratista}" disabled="true" />

                        <h:outputText value="Documento Contratista:"/>
                        <p:inputText id="txtDocumentoContratista" binding="#{instructorVista.txtDocumentoContratista}" disabled="true"/>

                        <h:outputText value="Teléfono Contratista:"/>
                        <p:inputText id="txtTelefonoContratista" binding="#{instructorVista.txtTelefonoContratista}" />

                        <h:outputText value="Correo Contratista:"/>
                        <p:inputText id="txtCorreoContratista" binding="#{instructorVista.txtCorreoContratista}" />

                        <h:outputText value="Codigo Dependencia:"/>
                        <p:inputText id="txtCodigoDependencia" binding="#{instructorVista.txtCodigoDependencia}" disabled="true" />

                        <h:outputText value="Codigo Banco:"/>
                        <p:inputText id="txtCodigoBanco" binding="#{instructorVista.txtCodigoBanco}" disabled="true" />

                        <p:outputLabel for="txtTipoCuentaContrato" value="Tipo Cuenta Contrato" />
                        <p:selectOneMenu id="txtTipoCuentaContrato" value="#{selectOneMenuView.txtTipoCuentaContrato}" style="width:125px">
                            <f:selectItem itemLabel="AHORROS" itemValue="AHORROS" />
                            <f:selectItem itemLabel="CORRIENTE" itemValue="CORRIENTE" />
                        </p:selectOneMenu>

                        <h:outputText value="Número Cuenta Contrato:"/>
                        <p:inputText id="txtNumeroCuentaContrato" binding="#{instructorVista.txtNumeroCuentaContrato}" />

                        <p:outputLabel for="txtClasePersona" value="Clase Persona:"/>
                        <p:selectOneMenu id="txtClasePersona" value="#{selectOneMenuView.txtClasePersona}" style="width:125px">
                            <f:selectItem itemLabel="EMPLEADO" itemValue="AHORROS" />
                            <f:selectItem itemLabel="TAB.CUENTA PROPIA" itemValue="CORRIENTE" />
                            <f:selectItem itemLabel="DEMAS PERSONAS NATURALES" itemValue="CORRIENTE" />
                        </p:selectOneMenu>

                        <p:outputLabel for="txtIngresosSuperioresContrato" value="¿SUS INGRESOS SUPERARON EN EL 2016 $39.591.000?" />
                        <p:selectOneMenu id="txtIngresosSuperioresContrato" value="#{selectOneMenuView.txtIngresosSuperioresContrato}" style="width:125px">
                            <f:selectItem itemLabel="SI" itemValue="SI" />
                            <f:selectItem itemLabel="NO" itemValue="NO" />
                        </p:selectOneMenu>

                        <p:outputLabel for="txtRegimenIvaContrato" value="Tipo Regimen de Iva:" />
                        <p:selectOneMenu id="txtRegimenIvaContrato" value="#{selectOneMenuView.txtRegimenIvaContrato}" style="width:125px">
                            <f:selectItem itemLabel="SIMPLIFICADO" itemValue="SIMPLIFICADO" />
                            <f:selectItem itemLabel="COMUN" itemValue="COMUN" />
                        </p:selectOneMenu>
                        <p:outputLabel for="txtExcluidoIvaContrato" value="¿PRESTA SERVICIOS EXCLUIDOS IVA?" />
                        <p:selectOneMenu id="txtExcluidoIvaContrato" value="#{selectOneMenuView.txtExcluidoIvaContrato}" style="width:125px">
                            <f:selectItem itemLabel="SI" itemValue="SI" />
                            <f:selectItem itemLabel="NO" itemValue="NO" />
                        </p:selectOneMenu>
                        <p:outputLabel for="txtDeclaranteContrato" value="¿ES DECLARANTE DE RENTA?" />
                        <p:selectOneMenu id="txtDeclaranteContrato" value="#{selectOneMenuView.txtDeclaranteContrato}" style="width:125px">
                            <f:selectItem itemLabel="SI" itemValue="SI" />
                            <f:selectItem itemLabel="NO" itemValue="NO" />
                        </p:selectOneMenu>
                        <p:outputLabel for="txtPensionadoContrato" value="¿USTED ES PENSIONADO?" />
                        <p:selectOneMenu id="txtPensionadoContrato" value="#{selectOneMenuView.txtPensionadoContrato}" style="width:125px">
                            <f:selectItem itemLabel="SI" itemValue="SI" />
                            <f:selectItem itemLabel="NO" itemValue="NO" />
                        </p:selectOneMenu>
                        <p:outputLabel for="txtDependientesContratp" value="¿DEPENDIENTE?" />
                        <p:selectOneMenu id="txtDependientesContratp" value="#{selectOneMenuView.txtDependientesContratp}" style="width:125px">
                            <f:selectItem itemLabel="SI" itemValue="SI" />
                            <f:selectItem itemLabel="NO" itemValue="NO" />
                        </p:selectOneMenu>
                        <p:outputLabel for="txtEmbargoContrato" value="¿ES OBJETO ACTUAL DE EMBARGO?" />
                        <p:selectOneMenu id="txtEmbargoContrato" value="#{selectOneMenuView.txtEmbargoContrato}" style="width:125px">
                            <f:selectItem itemLabel="SI" itemValue="SI" />
                            <f:selectItem itemLabel="NO" itemValue="NO" />
                        </p:selectOneMenu>
                        <h:outputText value="Número Contrato:"/>
                        <p:inputText id="txtNumeroContrato" binding="#{instructorVista.txtNumeroContrato}" />

                        <p:outputLabel for="txtFechaInicioContrato" value="Fecha Inicio Contrato:" />
                        <p:calendar id="txtFechaInicioContrato" value="#{funcionarioVista.txtFechaInicioContrato}" pattern="yyyy-MM-dd" mask="true" />
                        <p:outputLabel for="txtFechaFinContrato" value="Fecha Fin Contrato:" />
                        <p:calendar id="txtFechaFinContrato" value="#{funcionarioVista.txtFechaFinContrato}" pattern="yyyy-MM-dd" mask="true" />

                        <h:outputText value="Valor Total Contrato:"/>

                        <p:inputText id="txtValorTotalContrato" binding="#{instructorVista.txtValorTotalContrato}" disabled="true"/>

                        <p:outputLabel for="txtNumeroCompromisoSiifContrato" value="Numero Compromiso Contrato:"/>
                        <p:calendar id="txtNumeroCompromisoSiifContrato" value="#{instructorVista.txtNumeroCompromisoSiifContrato}" pattern="yyyy-MM-dd" mask="true" />

                        <p:outputLabel for="txtFormaPagoContrato" value="Forma de Pago Contrato:" />
                        <p:selectOneMenu id="txtFormaPagoContrato" value="#{selectOneMenuView.txtFormaPagoContrato}" style="width:125px">
                            <f:selectItem itemLabel="POR PERIODO (MES)" itemValue="POR PERIODO (MES)" />
                            <f:selectItem itemLabel="POR HORA" itemValue="POR HORA" />
                        </p:selectOneMenu>


                        <h:outputText value="Tipo ARL Contrato:"/>
                        <p:inputText id="txtTipoARLContrato" binding="#{instructorVista.txtTipoARLContrato}" disabled="true"/>

                        <p:commandButton value="Modificar" binding="#{instructorVista.btnModificar}" disabled="true"/>
                        
                          <h:form id="forma">
                                <p:growl id="growl" showDetail="true" sticky="true"/>
                                <p:panel id="panelUpload" header="Cargar Evidencia desde archivo:">
                                    <p:fileUpload label="Seleccionar" invalidFileMessage="!El Archivo debe ser de Extensión .XLS¡" fileUploadListener="#{instructorVista.cargarContrato}" mode="advanced"  update="mensajeArchivo" auto="false" allowTypes="/(\.|\/)(xls)$/"/> 
                                    <p:messages id="mensajeArchivo" showDetail="true" /> 
                                </p:panel>
                                <br />                    
                            </h:form>                     

                    </p:panelGrid>
                    <p:panelGrid columns="6">
                        
                        <p:column>                            
                            <p:commandButton value="Generar Reporte" binding="#{instructorVista.btnReporte}" action="#{instructorVista.generarReporte}" update="formulario"/>
                            <p:commandButton value="Limpiar" binding="#{instructorVista.btnLimpiar}" action="#{instructorVista.limpiar}" update="formulario"/>
                        </p:column>
                        
                    </p:panelGrid>
                    <p:dataTable var="contrato" value="#{instructorVista.listaContratos}" rows="5"
                                             paginator="true"
                                             paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,15"
                                             selectionMode="single"
                                             selection="#{instructorVista.selectedContrato}"
                                             rowKey="#{contrato.numerocontrato}">
                                    <p:ajax event="rowSelect" listener="#{funcionarioContratoVista.seleccionar(ex)}" update=":formulario" />
                                    <p:column headerText="Numero:">
                                        <h:outputText value="#{contrato.numerocontrato}" />
                                    </p:column>
                                    <p:column headerText="Fecha Inicio:">
                                        <h:outputText value="#{contrato.fechainiciocontrato}" />
                                    </p:column>
                                    <p:column headerText="Fecha Fin:">
                                        <h:outputText value="#{contrato.fechafincontrato}" />
                                    </p:column>
                                    <p:column headerText="Obejto:">
                                        <h:outputText value="#{contrato.objetocontrato}" />
                                    </p:column>
                                    <p:column headerText="Estado:">
                                        <h:outputText value="#{contrato.estadocontrato}" />
                                    </p:column>
                                    <p:column headerText="Valor Total:">
                                        <h:outputText value="#{contrato.valortotalcontrato}" />
                                    </p:column>
                                    <p:column headerText="Numero Compromiso:">
                                        <h:outputText value="#{contrato.numerocompromisosiifcontrato}" />
                                    </p:column>
                                    <p:column headerText="Forma Pago:">
                                        <h:outputText value="#{contrato.formapagocontrato}" />
                                    </p:column>
                                    <p:column headerText="Numero Cuenta:">
                                        <h:outputText value="#{contrato.numerocuentacontrato}" />
                                    </p:column>
                                    <p:column headerText="Tipo Cuenta:">
                                        <h:outputText value="#{contrato.tipocuentacontrato}" />
                                    </p:column>
                                    <p:column headerText="Codigo Banco:">
                                        <h:outputText value="#{contrato.codigobancocontrato.codigobanco}" />
                                    </p:column>
                                    <p:column headerText="Documento Coordinador:">
                                        <h:outputText value="#{contrato.documentocoordinadorcontrato.documentocoordinador}" />
                                    </p:column>
                                    <p:column headerText="Documento Personal:">
                                        <h:outputText value="#{contrato.documentopersonalcontrato.documentopersonal}" />
                                    </p:column>
                                    <p:column headerText="Linea Centro:">
                                        <h:outputText value="#{contrato.codigolineacontrato.codigolinea}" />
                                    </p:column>
                                    <p:column headerText="Clase Persona:">
                                        <h:outputText value="#{contrato.clasepersonacontrato}" />
                                    </p:column>
                                    <p:column headerText="Ingresos Superiores:">
                                        <h:outputText value="#{contrato.ingresossuperiorescontrato}" />
                                    </p:column>
                                    <p:column headerText="Regimen Iva:">
                                        <h:outputText value="#{contrato.regimenivacontrato}" />
                                    </p:column>
                                    <p:column headerText="Excluido Iva:">
                                        <h:outputText value="#{contrato.excluidoivacontrato}" />
                                    </p:column>
                                    <p:column headerText="Declarante:">
                                        <h:outputText value="#{contrato.declarantecontrato}" />
                                    </p:column>
                                    <p:column headerText="Pensionado:">
                                        <h:outputText value="#{contrato.pensionadocontrato}" />
                                    </p:column>
                                    <p:column headerText="Dependiente:">
                                        <h:outputText value="#{contrato.dependientescontratp}" />
                                    </p:column>
                                    <p:column headerText="Embargo:">
                                        <h:outputText value="#{contrato.embargocontrato}" />
                                    </p:column>
                                    <p:column headerText="Valor Embargo:">
                                        <h:outputText value="#{contrato.valorembargocontrato}" />
                                    </p:column>

                                </p:dataTable>                    

                    </h:form>

                </p:layoutUnit>

            </p:layout>
            
            <p:layoutUnit position="south" size="100" closable="true" collapsible="true">
                SENA CLEM - REGISTRO UNICO DE DESARROLLO ADMINISTRATIVO
            </p:layoutUnit>

        </h:body>

    </f:view>
</html>