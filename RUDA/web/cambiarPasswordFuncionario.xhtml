<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <title>FUNCIONARIO (CONTRASEÑA)</title>
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <link rel="StyleSheet" href="css/style.css" type="text/css">
                <link rel="shortcut icon" href="images/iconoRUDA.ico"/></link>
            </f:facet>
            
        </h:head>

        <h:body>

            <p:layout fullPage="true">

                <p:layoutUnit position="north" size="100" resizable="true" closable="true" collapsible="true">
                    <h:graphicImage url="images/LogoRUDA.png" width="60%" height="95%" alt="LogoRUDA"  />
                </p:layoutUnit>

                <p:layoutUnit position="south" size="100" closable="true" collapsible="true">
                    SENA CLEM - REGISTRO UNICO DE DESARROLLO ADMINISTRATIVO
                </p:layoutUnit>

                <p:layoutUnit position="west" size="175" header="Contraseña" collapsible="true">
                    <h:form>
                        <p:menu>
                            <p:submenu label="Menu">
                                <p:menuitem value="Contrato" url="faces/gestionFuncionarioPersonal.xhtml" />
                                <p:menuitem value="Personal" url="faces/gestionFuncionarioContrato.xhtml" />
                                <p:menuitem value="Cerrar Sesión" actionListener="#{sesionVista.cerrarSesion_action}" />
                            </p:submenu>

                        </p:menu>

                    </h:form>
                </p:layoutUnit>

                    <p:layoutUnit position="center">
                    <h:form id="formulario">
                        <p:growl id="growl" showDetail="true" sticky="true" />
                        <f:facet name="actions">
                            <p:commandLink onclick="PF('helpDialog').show();" styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"><h:outputText styleClass="ui-icon ui-icon-help" /></p:commandLink>
                        </f:facet>
                        <p:panelGrid id="pnlPassword" columns="2">                                         
                                <h:outputText value="Contraseña Actual:"/>
                                <p:password id="passClaveVieja" binding="#{sesionVista.passClaveVieja}" size="25"/>

                                <h:outputText value="Contraseña Nueva:"/>
                                <p:password id="passClaveNueva" binding="#{sesionVista.passClaveNueva}" feedback="true" size="25"/>

                                <h:outputText value="Confirmar Contraseña:"/>
                                <p:password id="passClaveNueva2" binding="#{sesionVista.passClaveNueva2}" size="25"/> 

                                <f:facet name="footer"> 
                                    <div align="center">
                                        <p:commandButton id="btnModificar" value="Modificar" action="#{usuariosVista.cambiarPass_action}" update="formulario"/>
                                        <p:commandButton id="btnLimpiarPass" value="Limpiar" action="#{usuariosVista.limpiarPass_action}"  update="formulario"/>
                                    </div>
                                </f:facet>                                
                                                
                        </p:panelGrid>
                        
                        <p:dialog id="modalDialog" header="Ayuda" widgetVar="helpDialog" showEffect="fade" hideEffect="bounce" modal="true" dynamic="true">  
                            <p align="justify">                       
                                En esta página usted podrá:<br/><br/>
                                <b>-Cambiar Contraseña de Accesso:</b> el usuario que está actualmente utilizando el sistema podrá cambiar su contraseña 
                                de acceso en cualquier momento y cuantas veces lo desee. Solo debe digitar su contraseña actual, luego la nueva contraseña dos veces. 
                                Finalmente dar clic en el botón Modificar.
                                <br/>             
                            </p>
                        </p:dialog>                       
                        
                    </h:form>
                        
                </p:layoutUnit>

            </p:layout>

        </h:body>

    </f:view>
</html>

