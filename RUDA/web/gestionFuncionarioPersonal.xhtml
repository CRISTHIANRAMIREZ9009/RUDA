<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <title>FUNCIONARIO (PERSONAL)</title>
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <link rel="StyleSheet" href="css/style.css" type="text/css"></link>
                <link rel="shortcut icon" href="images/iconoRUDA.ico"/>
            </f:facet>
            
        </h:head>

        <h:body>
            
            <p:layoutUnit position="north" size="100" resizable="true" closable="true" collapsible="true">
                <h:graphicImage url="images/LogoRUDA.png" width="60%" height="90%" alt="LogoRUDA"  />
            </p:layoutUnit>            

            <p:panel>                
                <p:panelGrid style="width: 100%;"> 
                    <p:row>
                        <p:column style="vertical-align: top; width: 10%;">
                            <h:form>
                                <p:menu>
                                    <p:submenu label="Menú">                                
                                        <p:menuitem value="Contrato" url="faces/gestionFuncionarioContrato.xhtml" />
                                        <p:menuitem value="Cerrar Sesión" actionListener="#{sesionVista.cerrarSesion_action}" />
                                    </p:submenu>                    
                                </p:menu>
                            </h:form>
                        </p:column>
                        <p:column>                           
                                <p:panel id="panelPersonal" header="Personal">                                    
                                     <h:form id="formulario" acceptcharset="UTF-8"> 
                                         <p:messages id="mensajes" showDetail="true" />
                                    <f:facet name="actions">
                                        <p:commandLink onclick="PF('helpDialog').show();" styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"><h:outputText styleClass="ui-icon ui-icon-help" /></p:commandLink>
                                    </f:facet>
                                    <p:panelGrid>
                                        <p:row>
                                            
                                            <p:column>
                                                <h:outputText value="Documento:"/> 
                                            </p:column>

                                            <p:column>
                                                <div align="left">
                                                    <p:inputText id="txtDocumentoPersonal" binding="#{funcionarioPersonalVista.txtDocumentoPersonal}" size="30" />
                                                </div>
                                            </p:column>
                                            
                                            <p:column>
                                                <h:outputText value="Nombre:"/>
                                            </p:column>

                                            <p:column>
                                                <div align="left">
                                                    <p:inputText id="txtNombrePersonal" binding="#{funcionarioPersonalVista.txtNombrePersonal}" size="30"/>
                                                </div>                                      
                                            </p:column>
                                            
                                            <p:column>
                                                <h:outputText value="Apellido:"/>
                                            </p:column>

                                            <p:column>
                                                <div align="left">
                                                    <p:inputText id="txtApellidoPersonal" binding="#{funcionarioPersonalVista.txtApellidoPersonal}" size="30"/>
                                                </div>                                      
                                            </p:column>
                                            
                                        </p:row>  
                                        <p:row>                                            

                                            <p:column>
                                                <h:outputText value="Direccion:"/>
                                            </p:column>

                                            <p:column>
                                                <div align="left">
                                                    <p:inputText id="txtDireccionPersonal" binding="#{funcionarioPersonalVista.txtDireccionPersonal}" size="30"/>
                                                </div>                                      
                                            </p:column>
                                            
                                            <p:column>
                                                <h:outputText value="Correo:"/>
                                            </p:column>

                                            <p:column>
                                                <div align="left">                                                    
                                                    <p:inputText id="txtCorreoPersonal" binding="#{funcionarioPersonalVista.txtCorreoPersonal}"  size="30"/>                                                    
                                                </div>                                      
                                            </p:column>
                                            
                                            <p:column>
                                                <h:outputText value="Teléfono:"/>
                                            </p:column>

                                            <p:column>
                                                <div align="left">
                                                    <p:inputText id="txttelefono" binding="#{funcionarioPersonalVista.txtTelefonoPersonal}" size="30"/>
                                                </div>                                      
                                            </p:column> 

                                        </p:row>
                                        <p:row>
                                            
                                            <p:column>
                                                <h:outputText value="Clave:"/>
                                            </p:column>

                                            <p:column>
                                                <div align="left">
                                                    <p:inputText id="txtClavePersonal" binding="#{funcionarioPersonalVista.txtClavePersonal}" disabled="true" size="30"/>
                                                </div>                                      
                                            </p:column>
                                            
                                            <p:column>
                                                <h:outputText value="Fecha de Nacimiento (yyyy-MM-dd):"/>
                                            </p:column>

                                            <p:column>
                                                <div align="left">
                                                    <p:calendar id="txtFechaNacimientoPersonal" binding="#{funcionarioPersonalVista.txtFechaNacimientoPersonal}" pattern="yyyy-MM-dd" mask="true" showOn="button" />
                                                </div>                                      
                                            </p:column>
                                            
                                            <p:column>
                                                <h:outputText value="Lugar Nacimiento:"/>
                                            </p:column>

                                            <p:column>
                                                <div align="left">
                                                    <p:inputText id="txtLugarNacimientoPersonal" binding="#{funcionarioPersonalVista.txtLugarNacimientoPersonal}" size="30"/>
                                                </div>                                      
                                            </p:column>
                                            
                                        </p:row> 
                                        <p:row>                                             
                                            
                                            <p:column>
                                                <h:outputText value="Foto:"/>
                                            </p:column>

                                            <p:column>
                                                <div align="left">
                                                    <p:inputText id="txtFotoPersonal" binding="#{funcionarioPersonalVista.txtFotoPersonal}" size="30"/>
                                                </div>                                      
                                            </p:column>
                                            
                                        </p:row> 
                                                                               
                                        <p:row>
                                            <p:column colspan="4">
                                                <div align="center">                                           
                                                    <p:commandButton value="Registrar" binding="#{funcionarioPersonalVista.btnRegistrar}" action="#{funcionarioPersonalVista.accion_registrar}" update="formulario"/>
                                                    <p:commandButton value="Modificar" binding="#{funcionarioPersonalVista.btnModificar}" disabled="true"/>
                                                    <p:commandButton value="Limpiar" binding="#{funcionarioPersonalVista.btnLimpiar}" action="#{funcionarioPersonalVista.limpiar()}" update="formulario"/>
                                                </div>
                                            </p:column>
                                        </p:row>
                                    </p:panelGrid>
                                    </h:form>
                                    <h:form id="forma" enctype="multipart/form-data">
                                        <p:growl id="growl" showDetail="true" sticky="true"/>
                                        <p:panel id="panelUpload" header="Cargar Personal desde archivo:">
                                            <p:fileUpload label="Seleccionar" invalidFileMessage="!El Archivo deber ser de Extensión .XLS¡" fileUploadListener="#{funcionarioContratoVista.cargarContrato}" mode="advanced"  update="mensajeArchivo" auto="false" allowTypes="/(\.|\/)(xls)$/"/> 
                                            <p:messages id="mensajeArchivo" showDetail="true" /> 
                                        </p:panel>
                                        <br />                    
                                    </h:form>
                                    
                                    <p:dataTable var="personal" value="#{funcionarioPersonalVista.listaPersonal}" rows="5"
                                                 paginator="true"
                                                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                 rowsPerPageTemplate="5,10,15"
                                                 selectionMode="single"
                                                 selection="#{funcionarioPersonalVista.selectedPersonal}"
                                                 rowKey="#{personal.documentopersonal}">
                                        <p:ajax event="rowSelect" listener="#{funcionarioPersonalVista.seleccionar}" update=":formulario" />
                                        <p:column headerText="Documento:">
                                            <h:outputText value="#{personal.documentopersonal}" />
                                        </p:column>
                                        <p:column headerText="Nombre:">
                                            <h:outputText value="#{personal.nombrepersonal}" />
                                        </p:column>
                                        <p:column headerText="Apellido:">
                                            <h:outputText value="#{personal.apellidopersonal}" />
                                        </p:column> 
                                        <p:column headerText="Direccion:">
                                            <h:outputText value="#{personal.direccionpersonal}" />
                                        </p:column>
                                        <p:column headerText="Correo:">
                                            <h:outputText value="#{personal.correopersonal}" />
                                        </p:column>
                                        <p:column headerText="Telefono:">
                                            <h:outputText value="#{personal.telefonopersonal}" />
                                        </p:column>
                                        <p:column headerText="Clave:">
                                            <h:outputText value="#{personal.documentopersonal}" />
                                        </p:column> 
                                        <p:column headerText="Fecha Nacimiento:">
                                            <h:outputText value="#{personal.fechanacimientopersonal}" />
                                        </p:column>
                                        <p:column headerText="Lugar Nacimiento:">
                                            <h:outputText value="#{personal.lugarnacimientopersonal}" />
                                        </p:column>
                                        <p:column headerText="Foto:">
                                            <h:outputText value="#{personal.fotopersonal}" />
                                        </p:column>

                                    </p:dataTable>
                                    
                                </p:panel>
          
                                <p:dialog id="modalDialog" header="Ayuda" widgetVar="helpDialog" showEffect="fade" hideEffect="bounce" modal="true" dynamic="true">  
                                    <p align="justify">                       
                                        En esta página usted podrá:<br/><br/>
                                        <b>-Modificar sus datos básicos</b>
                                        Cuando inicia esta página aparece su información personal, aqui podrá modificar su nombre, apellidos, correo y/o teléfono, una vez haga los cambios pertinente de click en el botón modificar.
                                        <br/><br/>
                                        <u>Nota:</u> la clave de acceso no se podrá modificar en ésta página por razones de seguridad sino en la opción <u>Cambio 
                                            Contraseña</u> del menú principal. El coordinador, al momento de registrarlo le asignará una clave de acceso temporal que corresponde a su documento de identificación.
                                        Se le recomienda que luego de ingresar por primera vez al Sistema realice el cambio de contraseña por razones de
                                        seguridad.                     
                                    </p>
                                </p:dialog>
                                
                            
                            
                        </p:column>
                        
                    </p:row>
                    
                </p:panelGrid>
                
            </p:panel>
            
            <p:layoutUnit position="south" size="100" closable="true" collapsible="true">
                SENA CLEM - REGISTRO UNICO DE DESARROLLO ADMINISTRATIVO
            </p:layoutUnit>

        </h:body>

    </f:view>
</html>

